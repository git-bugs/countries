{"version":3,"sources":["redux/countriesReducer.js","redux/store.js","components/Country/Country.jsx","components/Loader/Loader.jsx","components/Pagination/Pagination.jsx","pages/Main/Main.jsx","https/country-http.js","App.js","index.js"],"names":["SET_COUNTRIES","SET_LOAD","initialState","countries","isLoad","setLoad","payload","type","rootReducer","combineReducers","state","action","store","createStore","composeWithDevTools","applyMiddleware","thunk","Country","name","flag","capital","currencies","languages","numericCode","nativeName","subregion","topLevelDomain","callingCodes","population","setCountry","className","onClick","e","stopPropagation","src","alt","toLocaleString","map","item","join","Loader","Pagination","page","total","setPage","pages","totalPages","Math","ceil","i","push","pagination","Main","dispatch","useDispatch","useState","search","setSearch","searchStatus","setSearchStatus","country","useSelector","data","useEffect","a","axios","res","find","filterCountries","filter","toLowerCase","includes","trim","pagingCountries","end","start","length","items","pagingItems","alpha3Code","value","onChange","target","height","viewBox","width","fill","d","version","id","x","y","App","exact","path","component","to","render","document","getElementById"],"mappings":"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","file":"static/js/main.c1d52811.chunk.js","sourcesContent":["const SET_COUNTRIES = 'set countries'\r\nconst SET_LOAD = 'set countries load status'\r\n\r\n\r\nconst initialState = {\r\n  countries: [],\r\n  isLoad: false\r\n}\r\n\r\nexport const countriesReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SET_COUNTRIES:\r\n      return {\r\n        ...state,\r\n        countries: action.payload\r\n      }\r\n    case SET_LOAD:\r\n      return {\r\n        ...state,\r\n        isLoad: action.payload\r\n      }\r\n    default: return state\r\n  }\r\n}\r\n\r\nexport const setCountries = payload => ({ type: SET_COUNTRIES, payload })\r\nexport const setLoad = payload => ({ type: SET_LOAD, payload })","import { applyMiddleware, createStore } from \"redux\";\r\nimport { combineReducers } from \"redux\";\r\nimport { composeWithDevTools } from \"redux-devtools-extension\";\r\nimport { countriesReducer } from \"./countriesReducer\";\r\nimport thunk from 'redux-thunk'\r\n\r\nconst rootReducer = combineReducers({\r\n  countries: countriesReducer\r\n})\r\n\r\nexport const store = createStore(rootReducer, composeWithDevTools(applyMiddleware(thunk)))","\r\nimport './country.scss'\r\n\r\nexport const Country = ({ name, flag, capital, currencies, languages, nativeName, numericCode, subregion, topLevelDomain, callingCodes, population, setCountry }) => {\r\n\r\n\r\n  return (\r\n    <div\r\n      className=\"country\"\r\n      onClick={() => setCountry('')}\r\n    >\r\n      <div\r\n        className=\"country__inner\"\r\n        onClick={e => e.stopPropagation()}\r\n      >\r\n        <div className=\"country__img\">\r\n          <img src={flag} alt=\"\" />\r\n        </div>\r\n        <div className=\"country__item\"><span>Name: </span>{name}</div>\r\n        <div className=\"country__item\"><span>Capital: </span>{capital}</div>\r\n        <div className=\"country__item\"><span>Population: </span>{population.toLocaleString()}</div>\r\n        <div className=\"country__item\"><span>Currencies: </span>\r\n          {\r\n            currencies.map(item => (item.name)).join(', ')\r\n          }\r\n        </div>\r\n        <div className=\"country__item\"><span>Languages: </span>\r\n          {\r\n            languages.map(item => (item.name)).join(', ')\r\n          }\r\n        </div>\r\n        <div className=\"country__item\"><span>NumericCode: </span>{numericCode}</div>\r\n        <div className=\"country__item\"><span>Region: </span>{subregion}</div>\r\n        <div className=\"country__item\"><span>CallingCodes: </span>{callingCodes}</div>\r\n        <div className=\"country__item\"><span>Domain: </span>{topLevelDomain}</div>\r\n        <div\r\n          className=\"country__close\"\r\n          onClick={() => setCountry('')}\r\n        >\r\n          <span></span>\r\n          <span></span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import './loader.scss'\r\n\r\nexport const Loader = () => {\r\n  return (\r\n    <div className=\"loader\">\r\n      <div className=\"lds-facebook\"><div></div><div></div><div></div></div>\r\n    </div>\r\n  )\r\n}\r\n","import './pagination.scss'\r\n\r\nexport const pagingItems = (page, countries) => {\r\n  let end = page * 72 - 1\r\n  let start = end - 71\r\n  if (end > countries.length) end = countries.length - 1\r\n  const items = []\r\n  for (let i = start; i <= end; i++) {\r\n    items.push(countries[i])\r\n  }\r\n  return items\r\n}\r\n\r\nexport const Pagination = ({ page, total, setPage }) => {\r\n  const pages = []\r\n  const totalPages = Math.ceil(total / 72)\r\n  const pagination = () => {\r\n    if (totalPages > 5) {\r\n      if (page > 3) {\r\n        if (page + 2 < totalPages) {\r\n          for (let i = page - 2; i <= page + 2; i++) {\r\n            pages.push(i)\r\n          }\r\n        } else {\r\n          for (let i = totalPages - 5; i <= totalPages; i++) {\r\n            pages.push(i)\r\n          }\r\n        }\r\n      } else {\r\n        for (let i = 1; i <= 6; i++) {\r\n          pages.push(i)\r\n        }\r\n      }\r\n    } else {\r\n      for (let i = 1; i <= totalPages; i++) {\r\n        pages.push(i)\r\n      }\r\n    }\r\n    return pages\r\n  }\r\n  pagination()\r\n\r\n  return (\r\n    <ul className=\"users__pagination pagination\">\r\n      {\r\n        pages.map((item) =>\r\n          <li\r\n            className={item === page ? \"users__pagination-item active waves-effect\" : \"users__pagination-item waves-effect\"}\r\n            key={item}\r\n            onClick={() => setPage(item)}\r\n          >{item}</li>)\r\n      }\r\n    </ul>\r\n  )\r\n}\r\n\r\n","import { useEffect } from 'react'\r\nimport { useState } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { Country } from '../../components/Country/Country'\r\nimport { Loader } from '../../components/Loader/Loader'\r\nimport { Pagination, pagingItems } from '../../components/Pagination/Pagination'\r\nimport { getCountries } from '../../https/country-http'\r\nimport './main.scss'\r\n\r\n\r\nexport const Main = () => {\r\n  const dispatch = useDispatch()\r\n  const [search, setSearch] = useState('')\r\n  const [searchStatus, setSearchStatus] = useState(false)\r\n  const [country, setCountry] = useState('')\r\n  const [page, setPage] = useState(1)\r\n\r\n  const { countries, isLoad } = useSelector(data => ({\r\n    countries: data.countries.countries,\r\n    isLoad: data.countries.isLoad\r\n  }))\r\n\r\n  useEffect(() => {\r\n    dispatch(getCountries())\r\n  }, [dispatch])\r\n\r\n  const find = countries.find(item => item.name === country)\r\n\r\n  const filterCountries = countries.filter(item => item.name.toLowerCase().includes(search.toLowerCase().trim()))\r\n  const pagingCountries = pagingItems(page, filterCountries)\r\n\r\n  const handler = e => {\r\n    setSearch(e.target.value)\r\n    setPage(1)\r\n  }\r\n\r\n  const searchHandler = () => {\r\n    setSearchStatus(!searchStatus)\r\n    setSearch('')\r\n  }\r\n\r\n  return (\r\n    <div className=\"content\">\r\n      <section className=\"countries\">\r\n        <div className=\"container\">\r\n          <ul className=\"main__list\">\r\n            {isLoad && <Loader />}\r\n            {\r\n              pagingCountries.map(item => (\r\n                <li key={item.alpha3Code} onClick={() => setCountry(item.name)}                >\r\n                  <span>{item.name}</span>\r\n                  <img className=\"main__list-flag\" src={item.flag} alt={item.name} />\r\n                </li>\r\n              ))\r\n            }\r\n          </ul>\r\n          {\r\n            country && <Country {...find} setCountry={setCountry} />\r\n          }\r\n          {\r\n            filterCountries.length > 70 &&\r\n            <Pagination page={page} total={filterCountries.length} setPage={setPage} />\r\n          }\r\n        </div>\r\n        <div className=\"search__btn\">\r\n          <div className={searchStatus ? \"country__search active\" : \"country__search\"}>\r\n            <input type=\"text\" value={search} onChange={handler} />\r\n          </div>\r\n          <div className=\"search__img  waves-effect\" onClick={searchHandler}>\r\n            {\r\n              searchStatus ?\r\n                <svg height=\"35\" viewBox=\"0 0 365.696 365.696\" width=\"35\" fill=\"#fff\"><path d=\"m243.1875 182.859375 113.132812-113.132813c12.5-12.5 12.5-32.765624 0-45.246093l-15.082031-15.082031c-12.503906-12.503907-32.769531-12.503907-45.25 0l-113.128906 113.128906-113.132813-113.152344c-12.5-12.5-32.765624-12.5-45.246093 0l-15.105469 15.082031c-12.5 12.503907-12.5 32.769531 0 45.25l113.152344 113.152344-113.128906 113.128906c-12.503907 12.503907-12.503907 32.769531 0 45.25l15.082031 15.082031c12.5 12.5 32.765625 12.5 45.246093 0l113.132813-113.132812 113.128906 113.132812c12.503907 12.5 32.769531 12.5 45.25 0l15.082031-15.082031c12.5-12.503906 12.5-32.769531 0-45.25zm0 0\" /></svg>\r\n                :\r\n                <svg version=\"1.1\" id=\"Capa_1\" x=\"0px\" y=\"0px\"\r\n                  width=\"35\" height=\"35\" viewBox=\"0 0 30.239 30.239\"\r\n                  fill=\"#fff\">\r\n                  <g>\r\n                    <path d=\"M20.194,3.46c-4.613-4.613-12.121-4.613-16.734,0c-4.612,4.614-4.612,12.121,0,16.735\r\n\t\tc4.108,4.107,10.506,4.547,15.116,1.34c0.097,0.459,0.319,0.897,0.676,1.254l6.718,6.718c0.979,0.977,2.561,0.977,3.535,0\r\n\t\tc0.978-0.978,0.978-2.56,0-3.535l-6.718-6.72c-0.355-0.354-0.794-0.577-1.253-0.674C24.743,13.967,24.303,7.57,20.194,3.46z\r\n\t\t M18.073,18.074c-3.444,3.444-9.049,3.444-12.492,0c-3.442-3.444-3.442-9.048,0-12.492c3.443-3.443,9.048-3.443,12.492,0\r\n\t\tC21.517,9.026,21.517,14.63,18.073,18.074z\"/>\r\n                  </g>\r\n                </svg>\r\n            }\r\n          </div>\r\n        </div>\r\n      </section>\r\n    </div>\r\n  )\r\n}\r\n","import axios from \"axios\"\r\nimport { setCountries, setLoad } from \"../redux/countriesReducer\"\r\n\r\nexport const getCountries = () => {\r\n  return async dispatch => {\r\n    dispatch(setLoad(true))\r\n    const res = await axios('https://restcountries.eu/rest/v2/all')\r\n    dispatch(setCountries(res.data))\r\n    dispatch(setLoad(false))\r\n  }\r\n}\r\n","import { BrowserRouter, Redirect, Route, Switch } from \"react-router-dom\";\nimport { Main } from \"./pages/Main/Main\";\n\nfunction App() {\n\n  return (\n    <BrowserRouter>\n      <Switch>\n        <Route exact path=\"/\" component={Main} />\n        <Redirect to=\"/\" />\n      </Switch>\n    </BrowserRouter>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport { render } from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { store } from './redux/store';\nimport App from './App';\n\nimport './index.scss';\n\n\nrender(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root'));\n\n"],"sourceRoot":""}